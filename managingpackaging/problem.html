<!DOCTYPE html>

<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Managing packaging &ndash; Kattis, Kattis</title>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>

    <!-- Fonts/Icons -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">

    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,800,700italic,800italic%7CMerriweather:400,400italic,700" rel="stylesheet" type="text/css">

    <!-- Bootstrap CSS -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">

    <!-- Editable and Select2 -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/3.4.8/select2.css" rel="stylesheet">

    <link rel="shortcut icon" href="/favicon" />

    <!-- Own CSS -->
    <link rel="stylesheet" href="/css/basic_style.css">
    <link rel="stylesheet" href="/css/custom_style.css">
    <link rel="stylesheet" href="/css/clars.css">
    <link rel="stylesheet" href="/css/problem_style.css">
    <link rel="stylesheet" href="/css/kattis_font.css">
    <style type="text/css">
     .header {
       background-color: rgb(240,176,52);
     }
     .header .main-nav > ul > li.current:before {
       border-bottom-color: rgb(240,176,52);
     }
    </style>

    <script type="text/javascript">
        window.page_loaded_at = new Date();
        jQuery.noConflict();
        var $j = jQuery;
    </script>

    

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            ignoreClass: ".*",
            inlineMath: [['$','$'], ['\\(','\\)']]
        },
        MMLorHTML: {
            prefer: { Firefox: "HTML" }
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>




        <script>
  (function(i,s,o,g,r,a,m){ i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-26661929-8', 'auto');
  ga('set', 'forceSSL', true);
  ga('send', 'pageview');

</script>

    

    
    <style type="text/css">
        .header {
            margin-bottom: 0;
        }

        .page-content.single {
            padding: 0;
        }

        .problem-headline h1 {
            margin-top: 0;
        }
    </style>

</head>

<body class="page-problem page-problem-layout">
<!--[if lt IE 7]>
<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
<![endif]-->

<div id="wrapper">
    <header class="header">
    <div class="background">
        
        <div class="wrap">
            <div class="app-side fl">
                <a href="/" class="logo logo-open"><img src="/download/site-logo" alt="" /></a>

                <div class="title-wrapper">
                    <div class="header-title">Kattis</div>
                    <nav class="main-nav">
                        <ul>
                                                                                            
                                <li class=""><a href="/problems">Problems</a></li>
                                                                                            
                                <li class=""><a href="/contests">Contests</a></li>
                                                                                            
                                <li class=""><a href="/ranklist">Ranklists</a></li>
                                                                                            
                                <li class=""><a href="/jobs">Jobs</a></li>
                                                                                            
                                <li class=""><a href="/help">Help</a></li>
                            
                                                                                </ul>
                    </nav>
                </div>
            </div>
            <div class="user-side fr">

                <nav class="user-nav">
                    <ul class="user-nav-ul">
                        
                                                    <li><a class="btn dark-bg menu_login" href="/login">Log in</a></li>
                                            </ul>

                </nav>

            </div>
        </div>
    </div>
</header>



    
    
    

    
    

    
    


    

    <div class="container">

        

        <div class="page-content single clearfix">
            <section class="box clearfix main-content">
                
                




<div class="problem-wrapper">

    
    <div class="problem-headline clearfix"><div class="headline-wrapper"><h1>Managing packaging</h1></div><div class="extra-info"><span>Problem ID: managingpackaging</span><span>Time limit: 4 seconds</span><span>Memory limit: 1024 MB</span></div><div class="alt-buttons"><a href="/problems/managingpackaging/statistics" class="btn large teal" data-toggle="tooltip" data-placement="top" title="Problem statistics"><i class="fa fa-bar-chart-o"></i></a><a href="/problems/managingpackaging/submit" class="btn large green" data-toggle="tooltip" data-placement="top" title="Submit"><i class="fa fa-upload"></i></a></div><div class="problem-difficulty"><h4>Difficulty</h4><span>4.2</span></div><div class="problem-button-wrap"><div class="btn-group btn-group-sm"></div></div></div>

            
  <div class="problembody">
    <p>Many operating system distributions (such as various flavors
    of Linux) manage the installed software so that it is always
    up-to-date. Much of the software has been modularized into
    packages to keep things simple and avoid duplicate effort or
    code. But this means that a package may depend on other
    packages, requiring their installation before that package can
    be installed. For example, many programs depend on ‘libc,’ the
    library of standard C-library functions. To keep track of these
    dependencies, many distributions use some sort of package
    manager.</p>

    <p>When a user wants to install a new package (or set of
    packages), a package manager takes care of the headache of
    tracking down which packages are required to install the
    desired package. Of course, each dependency may itself have
    further dependencies. When the package manager determines all
    the needed dependencies, it can then install them in an order
    so that no package is installed before all of its dependencies
    are installed.</p>

    <p>Write a general package manager to take care of this task.
    Input is a list of packages to install, and all their
    dependencies. The goal is to give an order of packages that
    satisfies all dependencies as they are installed. You may
    assume that, at the beginning, no packages have been installed.
    Of course, there may be some sets of packages that have
    circular dependencies; in this case, we assume that none of the
    packages can be installed.</p>

    <h2>Input</h2>

    <p>Input consists of up to 10 test cases. Each test case start
    with a number <span class="tex2jax_process">$1 \le n \le
    1000$</span>, which is the number of packages the user wants to
    install. This is followed by <span class=
    "tex2jax_process">$n$</span> lines which describe <span class=
    "tex2jax_process">$n$</span> packages. Each package description
    starts with the name of the package and is followed by a
    space-separated list of the package’s unique dependencies. Each
    package has at most 20 dependencies, and each is one of the
    other <span class="tex2jax_process">$n-1$</span> packages. Each
    package name is a string of up to 40 non-whitespace characters
    using the English alphabet (a-z, A-Z), digits (0-9), underscore
    (_), hyphen (-), and period (.). Input ends when <span class=
    "tex2jax_process">$n$</span> is zero.</p>

    <h2>Output</h2>

    <p>For each test case, output the order of package installation
    that allow them all to be installed with no dependency
    violations at any point. If there are multiple possible
    orderings, then give the ordering that is lexicographically
    first (using ASCII values for string ordering). If there is
    some group of packages that are not able to be ordered within
    the list, output ‘<tt class="tt">cannot be ordered</tt>’
    instead of ordering the packages. Put a blank line between each
    pair of test cases.</p>

    <table class="sample" summary="sample data">
      <tr>
        <th>Sample Input 1</th>

        <th>Sample Output 1</th>
      </tr>

      <tr>
        <td>
          <pre>
14
libattr
vim-X11 vim-common gtk2 libattr
vim-common
gtk2 libtiff atk pango glib2
libtiff zlib libjpeg
atk
pango xorg-x11-libs freetype glib2
glib2
zlib
libjpeg
xorg-x11-libs grep freetype
grep pcre
pcre
freetype
3
emacs xorg-x11 lisp
xorg-x11
lisp emacs
0
</pre>
        </td>

        <td>
          <pre>
atk
freetype
glib2
libattr
libjpeg
pcre
grep
vim-common
xorg-x11-libs
pango
zlib
libtiff
gtk2
vim-X11

cannot be ordered
</pre>
        </td>
      </tr>
    </table>
  </div>

    
            <p class='problem-download'>
            <a href="/problems/managingpackaging/file/statement/samples.zip">Download</a> the sample data files
        </p>
    
    
    
            <div class="source">
            <p>
                                    Author: Greg Hamerly.
                
                                    Source: Baylor Competitive Learning course.
                
                License:
                                    <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/" style="vertical-align: middle;">
                                                    <img alt="Creative Commons License (cc by-sa)" style="border-width:0" src="https://licensebuttons.net/l/by-sa/3.0/80x15.png" />
                                                    </a>
                            </p>
        </div>
    
    
    
</div>


            </section>
        </div>
    </div>



</div>


<div id="footer">
    <div class="container">
        <div class="row">
            <div class="footer-info col-md-10 ">
                
                            </div>
            <div class="footer-powered col-md-2">
                <h4>Powered by Kattis</h4>
            </div>
        </div>
    </div>
</div>






<script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.7.1/modernizr.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/select2/3.4.8/select2.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="/js/boilerplate/plugins.js" type="text/javascript"></script>
<script src="/js/site/main.js" type="text/javascript"></script>
<script>initSite();</script>

</body>
</html>
