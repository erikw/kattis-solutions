

<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Basin City Surveillance &ndash; Kattis, Kattis</title>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>

    <!-- Fonts/Icons -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">

    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,800,700italic,800italic|Merriweather:400,400italic,700" rel="stylesheet" type="text/css">

    <!-- Bootstrap CSS -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">

    <!-- Editable and Select2 -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/3.4.8/select2.css" rel="stylesheet">

    <link rel="shortcut icon" href="/favicon" />

    <!-- Own CSS -->
    <link rel="stylesheet" href="/css/basic_style.css">
    <link rel="stylesheet" href="/css/custom_style.css">
    <link rel="stylesheet" href="/css/clars.css">

    <script type="text/javascript">
        window.page_loaded_at = new Date();
        jQuery.noConflict();
        var $j = jQuery;
    </script>

    

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            ignoreClass: ".*",
            inlineMath: [['$','$'], ['\\(','\\)']]
        },
        MMLorHTML: {
            prefer: { Firefox: "HTML" }
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>




        <script type="text/javascript">

var _gaq = _gaq || [];
var pluginUrl =	'//www.google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_require', 'inpage_linkid', pluginUrl]);
_gaq.push(['_setAccount', 'UA-26661929-8']);
_gaq.push(['_setDomainName', 'open.kattis.com']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

</script>
    

    
    <style type="text/css">
        .header {
            margin-bottom: 0;
        }

        .page-content.single {
            padding: 0;
        }

        .problem-headline h1 {
            margin-top: 0;
        }
    </style>

</head>

<body class="page-problem page-problem-layout">
<!--[if lt IE 7]>
<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
<![endif]-->

<div id="wrapper">
    <header class="header">
    
    <div class="wrap">
        <div class="app-side fl">
                                                                <a href="/" class="logo logo-open"><img src="/download/site-logo" alt="" /></a>

            <nav class="main-nav">
                <ul>
                                                                    
                        <li class=""><a href="/problems">Problems</a></li>
                                                                    
                        <li class=""><a href="/contests">Contests</a></li>
                                                                    
                        <li class=""><a href="/ranklist">Ranklists</a></li>
                                                                    
                        <li class=""><a href="/jobs">Jobs</a></li>
                                                                    
                        <li class=""><a href="/help">Help</a></li>
                    
                                                        </ul>
            </nav>
        </div>
        <div class="user-side fr">

            <nav class="user-nav">
                <ul class="user-nav-ul">
                    
                    
                                                    <li>
                                <a href="/submit" class="btn green submit"><i class="fa fa-upload"></i>Submit</a>
                            </li>
                        
                        <li>
                            <div class="dropdown my-profile">
                                <a data-toggle="dropdown" data-hover="dropdown" data-close-others="false" href="#" class="user-img-link">
                                                                        <div class="user-img" style="background-image: url('/download/profile-picture?id=6746')"></div>
                                    <b class="caret"></b>
                                </a>
                                <ul id="menu1" class="dropdown-menu pull-right">
                                    <li class="caret"></li>
                                    <li><a tabindex="-1" href="/users/erikw"><i class="glyphicon glyphicon-user blue"></i>Erik Westrup</a></li>
                                    <li><a tabindex="-1" href="/users/erikw/settings"><i class="fa fa-lock blue"></i>User Settings</a></li>

                                                                            <li><a tabindex="-1" href="/users/erikw/profile/edit"><i class="fa fa-edit blue"></i>Edit Profile</a></li>
                                        <li><a tabindex="-1" href="/users/erikw/settings/email"><i class="fa fa-envelope blue"></i>E-mail Settings</a></li>
                                    
                                    

                                    <li class="divider"></li>
                                    <li><a tabindex="-1" href="/logout"><i class="glyphicon glyphicon-log-out red"></i>Log out</a></li>
                                </ul>
                            </div>
                        </li>
                                    </ul>

            </nav>

        </div>
    </div>
</header>



    
    
    

    
    

    
    


    

    <div class="container">

        

        <div class="page-content single clearfix">
            <section class="box clearfix main-content">
                
                




<div class="problem-wrapper">

    
    <div class="problem-headline clearfix"><div class="headline-wrapper"><h1>Basin City Surveillance</h1></div><div class="extra-info"><span>Problem ID: basincity</span><span>Time limit: 2 seconds</span><span>Memory limit: 1024 MB</span></div><div class="alt-buttons"><a href="/problems/basincity/statistics" class="btn large teal" data-toggle="tooltip" data-placement="top" title="Problem statistics"><i class="fa fa-bar-chart-o"></i></a><a href="/problems/basincity/submit" class="btn large green" data-toggle="tooltip" data-placement="top" title="Submit"><i class="fa fa-upload"></i></a></div><div class="problem-difficulty"><h4>Difficulty</h4><span>8.2</span></div><div class="problem-button-wrap"><div class="btn-group btn-group-sm"><a class="btn btn-sm btn-default tried" href="/users/erikw/submissions/basincity">My Submissions</a></div></div></div>

            
  <div class="problembody">
    <div style="width:40.00%" class="illustration">
      <img src=
      "/problemimage?problem=basincity&amp;img=/en/img-0001.jpg"
      alt=
      "/problemimage?problem=basincity&amp;img=/en/img-0001.jpg"
      class="illustration">

      <div class="description">
        Don McCullough, cc-by-2.0
      </div>
    </div>

    <p><span class="scshape">Basin City</span> is known for her
    incredibly high crime rates. The police see no option but to
    tighten security. They want to install traffic drones at
    different intersections to observe who’s running on a red
    light. If a car runs a red light, the drone will chase and stop
    the car to give the driver an appropriate ticket. The drones
    are quite stupid, however, and a drone will stop before it
    comes to the next intersection as it might otherwise lose its
    way home, its home being the traffic light to which it is
    assigned. The drones are not able to detect the presence of
    other drones, so the police’s R&amp;D department found out that
    if a drone was placed at some intersection, then it was best
    not to put any drones at any of the neighbouring intersections.
    As is usual in many cities, there are no intersections in
    <span class="scshape">Basin City</span> with more than four
    other neighbouring intersections.</p>

    <p>The drones are government funded, so the police force would
    like to buy as many drones as they are allowed to. Being the
    programmer-go-to for the <span class="scshape">Basin City
    Police Department</span>, they ask you to decide, for a given
    number of drones, whether it is feasible to position exactly
    this number of drones.</p>

    <h2>Input</h2>

    <p>The first line contains an integer <span class=
    "tex2jax_process">$k$</span> (<span class="tex2jax_process">$0
    \leq k \leq 15$</span>), giving the number of drones to
    position. Then follows one line with <span class=
    "tex2jax_process">$1 \leq n \leq 100\; 000$</span>, the total
    number of intersections in <span class="scshape">Basin
    City</span>. Finally follow&nbsp;<span class=
    "tex2jax_process">$n$</span> lines describing consecutive
    intersections. The <span class="tex2jax_process">$i$</span>-th
    line describes the <span class="tex2jax_process">$i$</span>-th
    intersection in the following format: The line starts with one
    integer <span class="tex2jax_process">$d$</span> (<span class=
    "tex2jax_process">$0 \leq d \leq 4$</span>) describing the
    number of intersections neighbouring the <span class=
    "tex2jax_process">$i$</span>-th one. Then follow <span class=
    "tex2jax_process">$d$</span> integers denoting the indices of
    these neighbouring intersections. They will be all distinct and
    different from <span class="tex2jax_process">$i$</span>. The
    intersections are numbered from <span class=
    "tex2jax_process">$1$</span> to <span class=
    "tex2jax_process">$n$</span>.</p>

    <h2>Output</h2>

    <p>If it is possible to position <span class=
    "tex2jax_process">$k$</span> drones such that no two
    neighbouring intersections have been assigned a drone, output a
    single line containing <tt class="ttfamily">possible</tt>.
    Otherwise, output a single line containing <tt class=
    "ttfamily">impossible</tt>.</p>

    <table class="sample" summary="sample data">
      <tr>
        <th>Sample Input 1</th>

        <th>Sample Output 1</th>
      </tr>

      <tr>
        <td>
          <pre>
4
7
2 2 4
3 1 3 5
1 2
2 1 5
4 2 6 4 7
2 5 7
2 6 5
</pre>
        </td>

        <td>
          <pre>
impossible
</pre>
        </td>
      </tr>
    </table>

    <table class="sample" summary="sample data">
      <tr>
        <th>Sample Input 2</th>

        <th>Sample Output 2</th>
      </tr>

      <tr>
        <td>
          <pre>
4
8
2 2 4
3 1 3 5
1 2
2 1 5
4 2 6 4 7
2 5 8
2 8 5
2 7 6
</pre>
        </td>

        <td>
          <pre>
possible
</pre>
        </td>
      </tr>
    </table>
  </div>

    
            <p class='problem-download'>
            <a href="/download/sampledata?id=basincity">Download</a> the sample data files
        </p>
    
    
    
            <div class="source">
            <p>
                                    Author: Markus S. Dregi, Pål G. Drange.
                
                                    Source: Nordic Collegiate Programming Contest 2014.
                
                                    License:
                                            <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/" style="vertical-align: middle;">
                                                            <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" />
                                                    </a>
                                                </p>
        </div>
    
    
    
</div>


            </section>
        </div>
    </div>



</div>

<div id="footer">
    <div class="container">
        <div class="row">
            <div class="footer-info col-md-10 ">
                                

                            </div>
            <div class="footer-powered col-md-2">
                <h4>Powered by Kattis</h4>
            </div>
        </div>
    </div>
</div>




<script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.7.1/modernizr.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/select2/3.4.8/select2.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="/js/boilerplate/plugins.js" type="text/javascript"></script>
<script src="/js/site/main.js" type="text/javascript"></script>

</body>
</html>
